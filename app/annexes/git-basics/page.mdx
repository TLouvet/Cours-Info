# Git - Bases & Commandes Essentielles

Git est un syst√®me de contr√¥le de version distribu√© qui permet de suivre l'historique de votre code et de collaborer avec d'autres d√©veloppeurs.

<Callout type="info" title="Pourquoi Git ?">
- **Sauvegarde** : H√©bergez votre code sur GitHub/GitLab
- **Historique complet** : Suivez chaque modification de votre code
- **Collaboration** : Travaillez √† plusieurs sur le m√™me projet
- **Portfolio** : Montrez vos projets aux recruteurs
- **Retour arri√®re** : Annulez des modifications si n√©cessaire
</Callout>

## D√©marrage rapide - Deux sc√©narios

<Callout type="success" title="Choisissez votre situation">
**Sc√©nario A** : Vous avez d√©j√† du code local et voulez le pousser sur GitHub

**Sc√©nario B** : Vous partez d'un d√©p√¥t GitHub existant (clone)
</Callout>

### Sc√©nario A : Pousser un projet existant sur GitHub

**√âtape 1 : Cr√©er un d√©p√¥t sur GitHub**
1. Allez sur [github.com](https://github.com) et connectez-vous
2. Cliquez sur le `+` en haut √† droite ‚Üí "New repository"
3. Donnez un nom √† votre d√©p√¥t (ex: `mon-projet-react`)
4. **N'ajoutez PAS** de README, .gitignore ou LICENSE (le d√©p√¥t doit √™tre vide)
5. Cliquez sur "Create repository"

**√âtape 2 : Lier votre projet local**

```bash
# Dans le dossier de votre projet
cd mon-projet

# Initialiser Git (si pas d√©j√† fait)
git init

# Ajouter tous les fichiers
git add .

# Cr√©er le premier commit
git commit -m "Initial commit"

# Ajouter le d√©p√¥t distant (remplacez par votre URL)
git remote add origin https://github.com/votre-username/mon-projet-react.git

# V√©rifier que le remote est bien ajout√©
git remote -v

# Pousser vers GitHub
git push -u origin main
```

<Callout type="warning" title="Branche main vs master">
Les nouveaux d√©p√¥ts GitHub utilisent `main` comme branche principale. Si votre d√©p√¥t local utilise `master`, renommez-la :

```bash
git branch -M main
```
</Callout>

**C'est fait !** Votre code est maintenant sur GitHub. Rafra√Æchissez la page GitHub pour voir vos fichiers.

### Sc√©nario B : Cloner un d√©p√¥t existant

```bash
# Cloner le d√©p√¥t (remplacez par l'URL du d√©p√¥t)
git clone https://github.com/username/repository.git

# Entrer dans le dossier
cd repository

# Vous pouvez maintenant travailler !
```

<Callout type="tip">
Pour obtenir l'URL d'un d√©p√¥t GitHub :
1. Allez sur la page du d√©p√¥t
2. Cliquez sur le bouton vert "Code"
3. Copiez l'URL HTTPS
</Callout>

## Configuration initiale (obligatoire)

### V√©rifier l'installation

```bash
git --version
```

Si Git n'est pas install√©, t√©l√©chargez-le depuis [git-scm.com](https://git-scm.com/).

### Configuration initiale

Configurez votre identit√© (obligatoire pour le premier commit) :

```bash
git config --global user.name "Votre Nom"
git config --global user.email "votre.email@example.com"
```

V√©rifier la configuration :

```bash
git config --list
```

<Callout type="tip">
Utilisez la m√™me adresse email que celle de votre compte GitHub/GitLab pour que vos commits soient bien associ√©s √† votre profil.
</Callout>

## Workflow quotidien - Les 5 commandes essentielles

Une fois votre projet li√© √† GitHub, voici le cycle de travail quotidien :

### 1. V√©rifier l'√©tat de vos fichiers

```bash
git status
```

Affiche :
- Les fichiers modifi√©s (en rouge)
- Les fichiers pr√™ts √† √™tre commit√©s (en vert)
- La branche actuelle

<Callout type="tip">
Utilisez `git status` **constamment** ! C'est votre boussole pour savoir o√π vous en √™tes.
</Callout>

### 2. R√©cup√©rer les modifications de vos collaborateurs

**Faites TOUJOURS un `git pull` avant de commencer √† travailler !**

```bash
git pull
```

Cela r√©cup√®re et fusionne les modifications de GitHub dans votre code local.

### 3. Ajouter vos modifications au staging

```bash
# Ajouter tous les fichiers modifi√©s
git add .

# Ou ajouter des fichiers sp√©cifiques
git add src/App.js src/components/Header.js
```

### 4. Cr√©er un commit (snapshot de vos modifications)

```bash
git commit -m "Ajoute la page de connexion"
```

**Bonnes pratiques pour les messages :**
- Soyez concis mais descriptif (50 caract√®res max)
- Utilisez l'imp√©ratif : "Ajoute" et non "Ajout√©"
- D√©crivez ce que fait le commit, pas comment

```bash
# ‚úÖ Bons exemples
git commit -m "Ajoute la validation du formulaire"
git commit -m "Corrige le bug d'affichage mobile"
git commit -m "Refactorise le composant Header"

# ‚ùå Mauvais exemples
git commit -m "fix"
git commit -m "update"
git commit -m "wip"
```

### 5. Envoyer vos commits sur GitHub

```bash
git push
```

**C'est tout !** Vos modifications sont maintenant sur GitHub.

<Callout type="success" title="Cycle quotidien complet">
```bash
# Matin : r√©cup√©rer les derni√®res modifications
git pull

# Vous travaillez sur votre code...
# (modifier des fichiers, ajouter des fonctionnalit√©s)

# V√©rifier ce qui a chang√©
git status

# Ajouter vos modifications
git add .

# Cr√©er un commit
git commit -m "Description de vos modifications"

# Envoyer sur GitHub
git push

# R√©p√©ter ce cycle plusieurs fois par jour !
```

**Conseil** : Commitez souvent (plusieurs fois par jour), ne faites pas un √©norme commit en fin de journ√©e.
</Callout>

## Commandes Git Remote (d√©p√¥ts distants)

### Voir les d√©p√¥ts distants

```bash
# Lister les d√©p√¥ts distants
git remote -v

# R√©sultat typique :
# origin  https://github.com/username/repo.git (fetch)
# origin  https://github.com/username/repo.git (push)
```

### Ajouter un d√©p√¥t distant

```bash
git remote add origin https://github.com/username/repository.git
```

`origin` est le nom conventionnel pour le d√©p√¥t principal.

### Changer l'URL d'un remote

```bash
# Si vous avez fait une erreur dans l'URL
git remote set-url origin https://github.com/username/nouveau-repo.git
```

### Supprimer un remote

```bash
git remote remove origin
```

### Push d√©taill√©

```bash
# Premier push (cr√©e la branche sur GitHub)
git push -u origin main

# Push suivants (plus simple)
git push

# Push d'une branche sp√©cifique
git push origin feature/login

# Push en for√ßant (‚ö†Ô∏è ATTENTION : √©crase l'historique distant)
git push --force
```

<Callout type="error" title="Ne jamais faire git push --force sur main !">
`git push --force` √©crase l'historique distant. **Jamais** sur la branche principale en √©quipe !

Utilisez-le uniquement sur vos branches personnelles si n√©cessaire.
</Callout>

### Pull d√©taill√©

```bash
# Pull simple (fetch + merge)
git pull

# Pull depuis une branche sp√©cifique
git pull origin develop

# Pull √©quivaut √† :
git fetch origin      # R√©cup√®re les modifications
git merge origin/main # Fusionne dans votre branche
```

### Fetch (r√©cup√©rer sans fusionner)

```bash
# R√©cup√©rer les modifications sans les fusionner
git fetch origin

# Voir les diff√©rences avant de fusionner
git diff origin/main

# Fusionner quand vous √™tes pr√™t
git merge origin/main
```

Utile pour voir ce qui a chang√© avant de fusionner.

## Commandes compl√©mentaires

### Voir l'historique des commits

```bash
# Historique complet
git log

# Historique condens√© (une ligne par commit)
git log --oneline

# Historique avec graphe des branches
git log --oneline --graph --all

# Derniers 5 commits
git log -5
```

### Voir les diff√©rences

```bash
# Diff√©rences non staged (fichiers modifi√©s mais pas ajout√©s)
git diff

# Diff√©rences staged (fichiers ajout√©s avec git add)
git diff --staged

# Diff√©rences pour un fichier sp√©cifique
git diff fichier.js
```

## Branches

Les branches permettent de d√©velopper des fonctionnalit√©s en parall√®le sans affecter le code principal.

### Cr√©er et changer de branche

```bash
# Cr√©er une nouvelle branche
git branch feature/login

# Changer de branche
git checkout feature/login

# Cr√©er ET changer de branche (raccourci)
git checkout -b feature/login
```

<Callout type="info">
Avec Git 2.23+, vous pouvez utiliser `git switch` au lieu de `git checkout` :
```bash
git switch feature/login        # Changer de branche
git switch -c feature/login     # Cr√©er et changer
```
</Callout>

### Lister les branches

```bash
# Branches locales
git branch

# Toutes les branches (locales + distantes)
git branch -a
```

### Fusionner une branche

```bash
# Se placer sur la branche de destination (ex: main)
git checkout main

# Fusionner la branche feature/login dans main
git merge feature/login
```

### Supprimer une branche

```bash
# Supprimer une branche locale
git branch -d feature/login

# Forcer la suppression (si pas fusionn√©e)
git branch -D feature/login
```

## GitFlow - Workflow de branches

GitFlow est une strat√©gie de gestion de branches pour organiser le d√©veloppement.

### Structure des branches

<div className="my-6">
  <div className="p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
    <h4 className="font-semibold text-gray-900 dark:text-gray-100 mb-2">üå≥ Branches principales</h4>
    <ul className="space-y-2 text-sm">
      <li><code className="text-cyan-600 dark:text-cyan-400">main</code> (ou <code>master</code>) - Code en production, toujours stable</li>
      <li><code className="text-cyan-600 dark:text-cyan-400">develop</code> - Branche de d√©veloppement, code en cours d'int√©gration</li>
    </ul>
  </div>
</div>

<div className="my-6">
  <div className="p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg">
    <h4 className="font-semibold text-gray-900 dark:text-gray-100 mb-2">üåø Branches temporaires</h4>
    <ul className="space-y-2 text-sm">
      <li><code className="text-green-600 dark:text-green-400">feature/nom-feature</code> - Nouvelles fonctionnalit√©s</li>
      <li><code className="text-red-600 dark:text-red-400">bugfix/nom-bug</code> - Corrections de bugs</li>
      <li><code className="text-red-600 dark:text-red-400">hotfix/nom-hotfix</code> - Corrections urgentes en production</li>
      <li><code className="text-blue-600 dark:text-blue-400">release/v1.2.0</code> - Pr√©paration d'une release</li>
    </ul>
  </div>
</div>

### Workflow typique

1. **Cr√©er une branche pour une nouvelle fonctionnalit√©**

```bash
git checkout develop
git checkout -b feature/user-authentication
```

2. **D√©velopper et commiter**

```bash
git add .
git commit -m "Ajoute le formulaire de connexion"
git commit -m "Ajoute la validation JWT"
```

3. **Pousser la branche sur GitHub**

```bash
git push -u origin feature/user-authentication
```

4. **Cr√©er une Pull Request sur GitHub**
   - Aller sur GitHub
   - Cr√©er une Pull Request de `feature/user-authentication` vers `develop`
   - Demander une revue de code
   - Fusionner apr√®s validation

5. **Mettre √† jour develop localement**

```bash
git checkout develop
git pull
```

6. **Supprimer la branche feature**

```bash
git branch -d feature/user-authentication
git push origin --delete feature/user-authentication
```

### Sch√©ma GitFlow simplifi√©

```
main (production)
  |
  |--- release/v1.0 ---> merge vers main + develop
  |
develop (int√©gration)
  |
  |--- feature/login ---> merge vers develop
  |
  |--- feature/profile ---> merge vers develop
  |
  |--- bugfix/navbar ---> merge vers develop
```

<Callout type="tip" title="GitFlow simplifi√© pour petits projets">
Pour des projets personnels ou en petite √©quipe, vous pouvez simplifier :
- **main** : Code en production
- **feature/*** : Branches de fonctionnalit√©s qui fusionnent directement dans main

Pas besoin de `develop` si vous √™tes seul ou en tr√®s petite √©quipe.
</Callout>

## Commandes utiles

### Annuler des modifications

```bash
# Annuler les modifications d'un fichier (non staged)
git checkout -- fichier.js

# Retirer un fichier du staging (apr√®s git add)
git reset HEAD fichier.js

# Annuler le dernier commit (garde les modifications)
git reset --soft HEAD~1

# Annuler le dernier commit (supprime les modifications)
git reset --hard HEAD~1
```

<Callout type="error" title="Attention avec reset --hard">
`git reset --hard` **supprime d√©finitivement** les modifications. √Ä utiliser avec pr√©caution !
</Callout>

### Ignorer des fichiers

Cr√©ez un fichier `.gitignore` √† la racine du projet :

```text
# D√©pendances
node_modules/
vendor/

# Fichiers de configuration locaux
.env
.env.local

# Fichiers de build
dist/
build/
.next/

# Fichiers IDE
.vscode/
.idea/
*.swp

# Fichiers syst√®me
.DS_Store
Thumbs.db
```

### Stash (mettre de c√¥t√© des modifications)

```bash
# Mettre de c√¥t√© les modifications en cours
git stash

# Voir la liste des stash
git stash list

# R√©cup√©rer le dernier stash
git stash pop

# R√©cup√©rer un stash sp√©cifique
git stash apply stash@{0}
```

Utile quand vous devez changer de branche rapidement sans commiter.

### Tags (versions)

```bash
# Cr√©er un tag annot√©
git tag -a v1.0.0 -m "Version 1.0.0"

# Lister les tags
git tag

# Pousser un tag
git push origin v1.0.0

# Pousser tous les tags
git push --tags
```

## R√©solution de conflits

Un conflit survient quand deux personnes modifient la m√™me ligne de code.

### D√©tecter un conflit

```bash
git merge feature/login
# Auto-merging index.html
# CONFLICT (content): Merge conflict in index.html
# Automatic merge failed; fix conflicts and then commit the result.
```

### Fichier en conflit

Git marque les conflits avec des marqueurs :

```javascript
<<<<<<< HEAD
const message = "Hello from main";
=======
const message = "Hello from feature";
>>>>>>> feature/login
```

### R√©soudre le conflit

1. Ouvrez le fichier et choisissez quelle version garder
2. Supprimez les marqueurs `<<<<<<<`, `=======`, `>>>>>>>`
3. Gardez le code final :

```javascript
const message = "Hello from feature";
```

4. Ajoutez et commitez :

```bash
git add fichier.js
git commit -m "R√©sout le conflit dans fichier.js"
```

<Callout type="tip">
Utilisez un outil visuel comme VS Code, GitKraken, ou Sourcetree pour r√©soudre les conflits plus facilement.
</Callout>

## Workflow avec branches (pour projets en √©quipe)

```bash
# 1. Cr√©er une branche pour votre travail
git checkout -b feature/nouvelle-feature

# 2. D√©velopper et commiter r√©guli√®rement
git add .
git commit -m "Ajoute la fonctionnalit√© X"

# 3. Pousser sur GitHub
git push -u origin feature/nouvelle-feature

# 4. Cr√©er une Pull Request sur GitHub

# 5. Apr√®s fusion, mettre √† jour main
git checkout main
git pull
git branch -d feature/nouvelle-feature
```

## Commandes Git - R√©sum√©

<div className="my-6 overflow-x-auto">
  <table className="min-w-full">
    <thead>
      <tr>
        <th>Commande</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>git init</code></td>
        <td>Initialiser un d√©p√¥t Git</td>
      </tr>
      <tr>
        <td><code>git clone URL</code></td>
        <td>Cloner un d√©p√¥t distant</td>
      </tr>
      <tr>
        <td><code>git remote add origin URL</code></td>
        <td>Lier un d√©p√¥t distant</td>
      </tr>
      <tr>
        <td><code>git remote -v</code></td>
        <td>Voir les d√©p√¥ts distants</td>
      </tr>
      <tr>
        <td><code>git status</code></td>
        <td>Voir l'√©tat des fichiers</td>
      </tr>
      <tr>
        <td><code>git pull</code></td>
        <td>R√©cup√©rer les modifications distantes</td>
      </tr>
      <tr>
        <td><code>git add .</code></td>
        <td>Ajouter tous les fichiers au staging</td>
      </tr>
      <tr>
        <td><code>git commit -m "message"</code></td>
        <td>Cr√©er un commit</td>
      </tr>
      <tr>
        <td><code>git push</code></td>
        <td>Envoyer les commits sur GitHub</td>
      </tr>
      <tr>
        <td><code>git push -u origin main</code></td>
        <td>Premier push (cr√©e la branche)</td>
      </tr>
      <tr>
        <td><code>git checkout -b branche</code></td>
        <td>Cr√©er et changer de branche</td>
      </tr>
      <tr>
        <td><code>git merge branche</code></td>
        <td>Fusionner une branche</td>
      </tr>
      <tr>
        <td><code>git log --oneline</code></td>
        <td>Voir l'historique</td>
      </tr>
    </tbody>
  </table>
</div>

## Ressources suppl√©mentaires

<Resources resources={[
  {
    title: "Pro Git Book",
    description: "Livre complet et gratuit sur Git (fran√ßais disponible)",
    url: "https://git-scm.com/book/fr/v2",
    type: "doc"
  },
  {
    title: "GitHub Guides",
    description: "Guides officiels pour d√©buter avec GitHub",
    url: "https://guides.github.com",
    type: "tutorial"
  },
  {
    title: "Visualizing Git",
    description: "Outil interactif pour comprendre Git visuellement",
    url: "https://git-school.github.io/visualizing-git/",
    type: "tutorial"
  },
  {
    title: "GitFlow Cheatsheet",
    description: "Aide-m√©moire sur le workflow GitFlow",
    url: "https://danielkummer.github.io/git-flow-cheatsheet/",
    type: "doc"
  }
]} />

<Callout type="success" title="En r√©sum√©">
**Pour d√©marrer avec GitHub :**

1. Cr√©ez un d√©p√¥t sur GitHub
2. `git remote add origin URL` - Lier votre projet local
3. `git push -u origin main` - Premier envoi

**Les 5 commandes quotidiennes :**

1. `git pull` - R√©cup√©rer les modifications (TOUJOURS en premier!)
2. `git status` - Voir l'√©tat actuel
3. `git add .` - Ajouter les fichiers modifi√©s
4. `git commit -m "message"` - Cr√©er un commit
5. `git push` - Envoyer sur GitHub

Avec ces commandes, vous pouvez travailler efficacement avec Git et GitHub !
</Callout>
